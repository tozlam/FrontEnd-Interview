# HTTP协议

[HTTP版本对比](https://www.cnblogs.com/andashu/p/6441271.html)

https://segmentfault.com/a/1190000019891825

https://www.cnblogs.com/fundebug/p/understand-http2-and-http3.html

https://segmentfault.com/a/1190000023500699

- http1.0 短连接
    - 是一种无状态、无连接的应用层协议
    - HTTP1.0规定浏览器和服务器保持短暂的连接，浏览器的每次请求都需要与服务器建立一个TCP连接，服务器处理完成后立即断开TCP连接（无连接），服务器不跟踪每个客户端也不记录过去的请求（无状态）
    - 这种无状态性可以借助cookie/session机制来做身份认证和状态记录。而下面两个问题就比较麻烦了。
        - 首先，无连接的特性导致最大的性能缺陷就是无法复用连接。每次发送请求的时候，都需要进行一次TCP的连接，而TCP的连接释放过程又是比较费事的。这种无连接的特性会使得网络的利用率非常低。
        - 其次就是队头阻塞（headoflineblocking）。由于HTTP1.0规定下一个请求必须在前一个请求响应到达才能发送。假设前一个请求响应一直不到达，那么下一个请求就不发送，同样的后面的请求也给阻塞了。
   
- http1.1 长连接
    - 出现了keep-alive这个头部字段，它表示会在建立TCP连接后，完成首次的请求，并不会立刻断开TCP连接，而是保持这个连接状态～进而可以复用这个通道
    - Http 1.1并且支持请求管道化，“并行”发送请求，但是这个并行，也不是真正意义上的并行，而是可以让我们把先进先出队列从客户端（请求队列）迁移到服务端（响应队列）
  - 缺点：
  1. 明文传输
  2. 其实还是没有解决无状态连接的
  3. 当有多个请求同时被挂起的时候 就会拥塞请求通道，导致后面请求无法发送
  4. 臃肿的消息首部:HTTP/1.1能压缩请求内容,但是消息首部不能压缩;在现今请求中,消息首部占请求绝大部分(甚至是全部)也较为常见.
 
- http2.0
    - 相较于HTTP1.1，HTTP2.0的主要优点有采用二进制帧封装，传输变成多路复用，流量控制算法优化，服务器端推送，首部压缩，优先级等特点。
  
- http3.0
  基于UDP实现，实现多路复用、快速握手、继承了TLS加密功能